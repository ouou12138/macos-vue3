import{d as F,r as a,w as z,o as K,a as g,c as x,b as S,t as w,u as c,n as M,F as B,e as y,f as D,g as E,_ as I}from"./index-fc5466ed.js";const L={class:"calculator"},V=["onClick"],W=F({__name:"index",setup($){const C=a();let h=200;const m=a(48),p=a(["AC","+/-","%","÷","7","8","9","x","4","5","6","-","1","2","3","+","0",".","="]),N=a(["AC","C","+/-","%"]),v=a(["÷","x","-","+","="]),d=a("0");let i=null,e=null,s=null,r=null;const _=a(!0);z(_,()=>{_.value?p.value[0]="AC":p.value[0]="C"});const o=l=>{if(d.value=l==="Infinity"?"不是数字":l||"0",d.value.length>5){let n=Math.floor(h/d.value.length-5);n<20&&(n=20),m.value=n}else m.value=48},A=l=>{switch(l){case"AC":r!==null&&(r=null),o();return;case"C":s=null,i=null,e=null,_.value=!0,o();return;case"+/-":e=String(-Number(e)),o(e);return;case"%":e=String(Number(e)/100),o(e);return}if(!v.value.includes(l)){e=e===null||e==="0"?l:e+l,o(e),r=null,_.value=!1;return}if(l==="="){let n;(i===null||e===null||s===null)&&r?(n=String(b(...r)),r&&(r[0]=n)):(n=String(b(i,e,s)),r=[n,e,s],i=null,e=null,s=null),o(n),i=n;return}s||(i=e),e="0",l==="÷"?s="/":l==="x"?s="*":l==="-"?s="-":l==="+"&&(s="+")};function b(l,n,t){let u=Number(l),f=Number(n);if(!t||!u)return f;switch(t){case"/":return u/f;case"*":return u*f;case"-":return u-f;case"+":return u+f;default:return u}}return K(()=>{const l=C.value;h=Number(getComputedStyle(l).width.replace("px",""))}),(l,n)=>(g(),x("div",L,[S("div",{class:"screen",style:M({fontSize:c(m)+"px"}),ref_key:"screen",ref:C},w(c(d)),5),S("div",{class:"keyboard",onMousedown:n[0]||(n[0]=E(()=>{},["stop"]))},[(g(!0),x(B,null,y(c(p),t=>(g(),x("div",{class:D(["key text-5",{"grid-col-span-2":t==="0",normal:!c(v).includes(t)&&!c(N).includes(t),"bg-#FF9F0A":c(v).includes(t),"bg-#fff/15":c(N).includes(t)}]),key:t,onClick:u=>A(t)},w(t),11,V))),128))],32)]))}});const q=I(W,[["__scopeId","data-v-895611f5"]]);export{q as default};
